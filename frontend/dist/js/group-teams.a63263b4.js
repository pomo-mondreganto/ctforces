(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["group-teams"],{"227b":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("master-layout",[a("card",[t.$types.isNull(t.team)?t._e():a("div",{staticClass:"p-r"},[a("div",{staticClass:"a-tr"},[t.inTeam?t._e():a("router-link",{staticClass:"team-join btn nlnk",attrs:{to:{name:"team_join",params:{id:t.$route.params.id}}}},[t._v(" Join team ")])],1),a("f-header",{staticClass:"ta-l",attrs:{text:"Team "+t.team.name}}),a("div",{staticClass:"mt-1"},[t._v("Created at "+t._s(t.createdAt))]),a("div",{staticClass:"mt-1"},[t._v(" Captain: "),a("user",{attrs:{rating:t.team.captain_details.rating,username:t.team.captain_details.username}})],1),t.$types.isNull(t.token)?t._e():a("div",{staticClass:"mt-1"},[t._v(" Join token: "),a("span",{staticClass:"token"},[t._v(t._s(t.token))])]),a("f-table",{staticClass:"mt-3",attrs:{fields:[{name:"#",pos:"c",grow:1},{name:"Name",pos:"l",grow:11,comp:t.UserComp},{name:"Rating",pos:"c",key:"rating",grow:3}],data:t.team.participants_details}})],1),a("f-detail",{attrs:{errors:t.errors["detail"]}})],1)],1)},n=[],s=(a("4de4"),a("d81d"),a("5530")),i=(a("96cf"),a("1da1")),c=a("e5f3"),u=a("4dc7"),o=a("478a"),l=a("2f62"),p=a("c1df"),m=a.n(p),f={components:{FTable:u["a"],FHeader:o["a"]},data:function(){return{errors:{},team:null,token:null,UserComp:c["a"]}},methods:{fetchTeam:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e,a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=this.$route.params.id,t.prev=1,t.next=4,this.$http.get("/teams/".concat(e,"/"));case 4:if(a=t.sent,this.team=a.data,this.team.participants_details=this.team.participants_details.map((function(t,e){return Object(s["a"])({"#":e+1},t)})),!this.team.can_edit_team){t.next=18;break}return t.prev=8,t.next=11,this.$http.get("/teams/".concat(e,"/full/"));case 11:r=t.sent,this.token=r.data.join_token,t.next=18;break;case 15:t.prev=15,t.t0=t["catch"](8),this.errors=this.$parse(t.t0.response.data);case 18:t.next=23;break;case 20:t.prev=20,t.t1=t["catch"](1),this.errors=this.$parse(t.t1.response.data);case 23:case"end":return t.stop()}}),t,this,[[1,20],[8,15]])})));function e(){return t.apply(this,arguments)}return e}()},created:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.fetchTeam();case 2:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),watch:{$route:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.fetchTeam();case 2:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},computed:Object(s["a"])({},Object(l["c"])(["user"]),{inTeam:function(){var t=this;return!this.$types.isNull(this.user)&&this.team.participants_details.filter((function(e){var a=e.id;return a===t.user.id})).length>0},createdAt:function(){return m()(this.team.created_at).format("llll")}})},h=f,d=(a("cffe"),a("2877")),v=Object(d["a"])(h,r,n,!1,null,"b1661ddc",null);e["default"]=v.exports},"35c9":function(t,e,a){"use strict";var r=a("5366"),n=a.n(r);n.a},"478a":function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h1",{staticClass:"header ta-c"},[t._v(t._s(t.text))])},n=[],s={props:{text:String}},i=s,c=(a("7402"),a("2877")),u=Object(c["a"])(i,r,n,!1,null,"464eb2b9",null);e["a"]=u.exports},5366:function(t,e,a){},7402:function(t,e,a){"use strict";var r=a("820a"),n=a.n(r);n.a},"820a":function(t,e,a){},b05e:function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"group"},[a("input",t._b({class:["input",t.value?"non-empty":""].concat(t.outerClasses),attrs:{invalid:t.invalid},domProps:{value:t.value},on:{input:function(e){return t.$emit("input",e.target.value)}}},"input",t.$attrs,!1)),a("label",{staticClass:"label"},[t._v(t._s(t.placeholder))]),t.invalid?a("div",t._l(t.errors,(function(e){return a("div",{key:e,staticClass:"error"},[t._v(" "+t._s(e)+" ")])})),0):t._e()])},n=[],s={props:{placeholder:String,value:String,errors:Array,customClasses:Array},computed:{invalid:function(){return this.$types.isArray(this.errors)&&this.errors.length>0},outerClasses:function(){return this.$types.isUndefined(this.customClasses)?[]:this.customClasses}}},i=s,c=(a("35c9"),a("2877")),u=Object(c["a"])(i,r,n,!1,null,"943f7d90",null);e["a"]=u.exports},cea7:function(t,e,a){},cffe:function(t,e,a){"use strict";var r=a("cea7"),n=a.n(r);n.a},d55e:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("master-layout",[a("card",[t.$types.isNull(t.team)?t._e():a("div",[a("f-header",{attrs:{text:"Join team "+t.team.name}}),a("form",{staticClass:"mt-3",on:{submit:function(e){return e.preventDefault(),t.joinTeam(e)}}},[a("div",{staticClass:"ff"},[a("f-input",{attrs:{type:"text",name:"join_token",errors:t.errors["join_token"],placeholder:"Token"},model:{value:t.joinToken,callback:function(e){t.joinToken=e},expression:"joinToken"}})],1),a("div",{staticClass:"ff"},[a("f-detail",{attrs:{errors:t.errors["detail"]}})],1),a("div",{staticClass:"ff"},[a("input",{staticClass:"btn",attrs:{type:"submit",value:"Join team"}})])])],1)])],1)},n=[],s=(a("96cf"),a("1da1")),i=a("b05e"),c=a("478a"),u={components:{FInput:i["a"],FHeader:c["a"]},data:function(){return{joinToken:null,team:null,errors:{}}},methods:{joinTeam:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=this.$route.params.id,t.prev=1,t.next=4,this.$http.post("/teams/".concat(e,"/join/"),{join_token:this.joinToken});case 4:this.$router.push({name:"team_index",params:{id:e}}),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](1),this.errors=this.$parse(t.t0.response.data);case 10:case"end":return t.stop()}}),t,this,[[1,7]])})));function e(){return t.apply(this,arguments)}return e}(),fetchTeam:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=this.$route.params.id,t.prev=1,t.next=4,this.$http.get("/teams/".concat(e,"/"));case 4:a=t.sent,this.team=a.data,t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](1),this.errors=this.$parse(t.t0.response.data);case 11:case"end":return t.stop()}}),t,this,[[1,8]])})));function e(){return t.apply(this,arguments)}return e}()},created:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.fetchTeam();case 2:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),watch:{$route:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.fetchTeam();case 2:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}},o=u,l=a("2877"),p=Object(l["a"])(o,r,n,!1,null,null,null);e["default"]=p.exports},d915:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("master-layout",[a("card",[a("f-header",{attrs:{text:"Create team"}}),a("form",{staticClass:"mt-3",on:{submit:function(e){return e.preventDefault(),t.createTeam(e)}}},[a("div",{staticClass:"ff"},[a("f-input",{attrs:{type:"text",name:"name",errors:t.errors["name"],placeholder:"Name"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1),a("div",{staticClass:"ff"},[a("f-detail",{attrs:{errors:t.errors["detail"]}})],1),a("div",{staticClass:"ff"},[a("input",{staticClass:"btn",attrs:{type:"submit",value:"Create team"}})])])],1)],1)},n=[],s=(a("b0c0"),a("96cf"),a("1da1")),i=a("b05e"),c=a("478a"),u={components:{FInput:i["a"],FHeader:c["a"]},data:function(){return{name:null,errors:{}}},methods:{createTeam:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.$http.post("/teams/",{name:this.name});case 3:e=t.sent,a=e.data.id,this.$router.push({name:"team_index",params:{id:a}}),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),this.errors=this.$parse(t.t0.response.data);case 11:case"end":return t.stop()}}),t,this,[[0,8]])})));function e(){return t.apply(this,arguments)}return e}()}},o=u,l=a("2877"),p=Object(l["a"])(o,r,n,!1,null,null,null);e["default"]=p.exports}}]);
//# sourceMappingURL=group-teams.a63263b4.js.map