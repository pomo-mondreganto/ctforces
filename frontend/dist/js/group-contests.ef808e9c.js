(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["group-contests"],{"0538":function(t,e,n){"use strict";var s=n("1c0b"),r=n("861d"),a=[].slice,i={},c=function(t,e,n){if(!(e in i)){for(var s=[],r=0;r<e;r++)s[r]="a["+r+"]";i[e]=Function("C,a","return new C("+s.join(",")+")")}return i[e](t,n)};t.exports=Function.bind||function(t){var e=s(this),n=a.call(arguments,1),i=function(){var s=n.concat(a.call(arguments));return this instanceof i?c(e,s.length,s):e.apply(t,s)};return r(e.prototype)&&(i.prototype=e.prototype),i}},"07a9":function(t,e,n){"use strict";var s=n("59ba"),r=n.n(s);r.a},"10d1":function(t,e,n){"use strict";var s,r=n("da84"),a=n("e2cc"),i=n("f183"),c=n("6d61"),o=n("acac"),u=n("861d"),l=n("69f3").enforce,d=n("7f9a"),f=!r.ActiveXObject&&"ActiveXObject"in r,p=Object.isExtensible,h=function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},m=t.exports=c("WeakMap",h,o);if(d&&f){s=o.getConstructor(h,"WeakMap",!0),i.REQUIRED=!0;var v=m.prototype,_=v["delete"],g=v.has,b=v.get,k=v.set;a(v,{delete:function(t){if(u(t)&&!p(t)){var e=l(this);return e.frozen||(e.frozen=new s),_.call(this,t)||e.frozen["delete"](t)}return _.call(this,t)},has:function(t){if(u(t)&&!p(t)){var e=l(this);return e.frozen||(e.frozen=new s),g.call(this,t)||e.frozen.has(t)}return g.call(this,t)},get:function(t){if(u(t)&&!p(t)){var e=l(this);return e.frozen||(e.frozen=new s),g.call(this,t)?b.call(this,t):e.frozen.get(t)}return b.call(this,t)},set:function(t,e){if(u(t)&&!p(t)){var n=l(this);n.frozen||(n.frozen=new s),g.call(this,t)?k.call(this,t,e):n.frozen.set(t,e)}else k.call(this,t,e);return this}})}},1190:function(t,e,n){},"131a":function(t,e,n){var s=n("23e7"),r=n("d2bb");s({target:"Object",stat:!0},{setPrototypeOf:r})},"13d5":function(t,e,n){"use strict";var s=n("23e7"),r=n("d58f").left,a=n("a640"),i=n("ae40"),c=a("reduce"),o=i("reduce",{1:0});s({target:"Array",proto:!0,forced:!c||!o},{reduce:function(t){return r(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}})},"1dab":function(t,e,n){},"21a1":function(t,e,n){"use strict";var s=n("57c8"),r=n.n(s);r.a},2466:function(t,e,n){"use strict";var s=n("6c3c"),r=n.n(s);r.a},"24d4":function(t,e,n){"use strict";var s=n("e0fd"),r=n.n(s);r.a},2532:function(t,e,n){"use strict";var s=n("23e7"),r=n("5a34"),a=n("1d80"),i=n("ab13");s({target:"String",proto:!0,forced:!i("includes")},{includes:function(t){return!!~String(a(this)).indexOf(r(t),arguments.length>1?arguments[1]:void 0)}})},"25b2":function(t,e,n){"use strict";n.r(e);var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("master-layout",[n("contest-form",{key:t.initialContest.id,attrs:{text:"Edit contest",initialContest:t.initialContest,initialTasks:t.initialTasks,errors:t.errors},on:{submit:t.editContest}})],1)},r=[],a=(n("d81d"),n("b0c0"),n("d3b7"),n("25f0"),n("ddb0"),n("5530")),i=n("b85c"),c=(n("96cf"),n("1da1")),o=n("4c2e"),u=n("cd34"),l={components:{ContestForm:o["a"]},data:function(){return{initialContest:new u["a"],initialTasks:[],oldTasks:{},errors:{}}},created:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.fetchData();case 2:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),methods:{fetchData:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(){var e,n,s,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=this.$route.params.id,t.prev=1,t.next=4,this.$http.get("/contests/".concat(e,"/full/"));case 4:n=t.sent,s=n.data,this.initialContest=new u["a"](s),r=this,this.initialTasks=s.contest_task_relationship_details.map((function(t){return r.oldTasks[t.task]=t.id,{cost:t.cost.toString(),minCost:t.min_cost.toString(),decay:t.decay_value.toString(),id:t.task.toString(),name:t.task_details.name,mainTag:t.main_tag_details,tags:t.task_details.task_tags_details}})),t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](1),this.errors=this.$parse(t.t0.response.data);case 14:case"end":return t.stop()}}),t,this,[[1,11]])})));function e(){return t.apply(this,arguments)}return e}(),editContest:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(e){var n,s,r,c,o,u,l,d,f,p,h,m;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.contest,s=e.tasks,r=this.$route.params.id,c=null,t.prev=3,t.next=6,this.$http.put("/contests/".concat(r,"/"),n.dumpForAPI());case 6:o=t.sent,c=o.data,t.next=14;break;case 10:return t.prev=10,t.t0=t["catch"](3),this.errors=this.$parse(t.t0.response.data),t.abrupt("return");case 14:t.prev=14,u={},l=[],d=Object(i["a"])(s),t.prev=18,d.s();case 20:if((f=d.n()).done){t.next=32;break}if(p=f.value,u[p.id]=!0,h={min_cost:p.minCost,decay_value:p.decay,cost:p.cost,main_tag:p.mainTag.id},!this.oldTasks[p.id]){t.next=29;break}return t.next=27,this.$http.patch("/contest_task_relationship/".concat(this.oldTasks[p.id],"/"),h);case 27:t.next=30;break;case 29:l.push(Object(a["a"])({},h,{task:p.id,contest:c.id}));case 30:t.next=20;break;case 32:t.next=37;break;case 34:t.prev=34,t.t1=t["catch"](18),d.e(t.t1);case 37:return t.prev=37,d.f(),t.finish(37);case 40:return t.next=42,this.$http.post("/contest_task_relationship/",l);case 42:t.t2=regeneratorRuntime.keys(this.oldTasks);case 43:if((t.t3=t.t2()).done){t.next=51;break}if(m=t.t3.value,!u[m]){t.next=47;break}return t.abrupt("continue",43);case 47:return t.next=49,this.$http.delete("/contest_task_relationship/".concat(this.oldTasks[m],"/"));case 49:t.next=43;break;case 51:this.$router.push({name:"contest_tasks",params:{id:r}}),t.next=59;break;case 54:return t.prev=54,t.t4=t["catch"](14),this.errors={tasks:this.$parse(t.t4.response.data)},t.next=59,this.fetchData();case 59:case"end":return t.stop()}}),t,this,[[3,10],[14,54],[18,34,37,40]])})));function e(e){return t.apply(this,arguments)}return e}()}},d=l,f=n("2877"),p=Object(f["a"])(d,s,r,!1,null,null,null);e["default"]=p.exports},"25cb":function(t,e,n){"use strict";n.r(e);var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.$types.isNull(t.task)?t._e():n("div",[n("f-header",{attrs:{text:t.task.name+" solves"}}),t.$types.isNull(t.users)?t._e():n("div",{staticClass:"mt-1"},[n("f-table",{attrs:{fields:[{name:"#",pos:"c",grow:1},{name:"Name",pos:"l",grow:11,comp:t.TeamComp},{name:"Rating",pos:"c",key:"rating",grow:3}],data:t.users}})],1),n("f-detail",{attrs:{errors:t.errors["detail"]}}),n("pagination",{attrs:{count:t.count,pagesize:t.pagesize}})],1)},r=[],a=(n("99af"),n("d81d"),n("5530")),i=(n("96cf"),n("1da1")),c=n("478a"),o=n("4dc7"),u=n("c48a"),l=n("1799"),d={components:{FHeader:c["a"],FTable:o["a"],Pagination:l["a"]},data:function(){return{task:null,users:null,TeamComp:u["a"],errors:{},count:null,pagesize:50}},methods:{fetchSolved:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e,n,s,r,i,c,o=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=this.$route.query.page,n=void 0===e?1:e,s=this.$route.params,r=s.task_id,i=s.id,t.prev=2,t.next=5,this.$http.get("/contests/".concat(i,"/tasks/").concat(r,"/solved/?page=").concat(n,"&page_size=").concat(this.pagesize));case 5:c=t.sent,this.users=c.data.results.map((function(t,e){return Object(a["a"])({"#":e+1+(n-1)*o.pagesize},t)})),this.count=c.data.count,t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](2),this.errors=this.$parse(t.t0.response.data);case 13:case"end":return t.stop()}}),t,this,[[2,10]])})));function e(){return t.apply(this,arguments)}return e}(),fetchTask:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e,n,s,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=this.$route.params,n=e.id,s=e.task_id,t.prev=1,t.next=4,this.$http.get("/contests/".concat(n,"/tasks/").concat(s,"/"));case 4:r=t.sent,this.task=r.data,t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](1),this.errors=this.$parse(t.t0.response.data);case 11:case"end":return t.stop()}}),t,this,[[1,8]])})));function e(){return t.apply(this,arguments)}return e}()},created:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.fetchTask();case 2:return t.next=4,this.fetchSolved();case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),watch:{$route:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.fetchTask();case 2:return e.next=4,t.fetchSolved();case 4:case"end":return e.stop()}}),e)})))()}}},f=d,p=n("2877"),h=Object(p["a"])(f,s,r,!1,null,null,null);e["default"]=h.exports},2957:function(t,e,n){"use strict";n.r(e);var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[!t.$types.isNull(t.contest)&&t.contest.can_edit_contest?n("div",{staticClass:"p-r"},[n("div",{staticClass:"a-tr"},[n("router-link",{staticClass:"btn nlnk",attrs:{to:{name:"contest_edit",params:{id:t.contest.id}}}},[t._v(" Edit contest ")])],1)]):t._e(),n("task-view",{attrs:{contest:t.contest,contest_tasks:t.contest_tasks}}),n("f-detail",{attrs:{errors:t.errors["detail"]}})],1)},r=[],a=(n("96cf"),n("1da1")),i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.$types.isNull(t.contest)?t._e():n("div",t._l(t.tasks,(function(e){return n("div",{key:e[0].main_tag_details.id,staticClass:"mb-1"},[n("div",{staticClass:"task-tag mb-1"},[t._v(" "+t._s(e[0].main_tag_details.name)+" ")]),n("div",{staticClass:"tasks"},t._l(e,(function(e,s){return n("router-link",{key:s,class:[e.is_solved_by_user?"solved":"",e.is_solved_on_upsolving&&!e.is_solved_by_user?"upsolved":"","task-wrap","nlnk"],attrs:{to:{name:"contest_task",params:{id:t.$route.params.id,task_id:e.id}}}},[n("div",{staticClass:"task"},[n("div",{staticClass:"name"},[t._v(" "+t._s(e.name)+" ")]),n("div",{staticClass:"cost"},[t._v(" "+t._s(e.contest_cost)+" ")])])])})),1)])})),0)},c=[],o=(n("b0c0"),{props:{contest:Object,contest_tasks:Array},computed:{tasks:function(){return this.$types.isNull(this.contest_tasks)?null:this._.groupBy(this.contest_tasks,(function(t){var e=t.main_tag_details.name;return e}))}}}),u=o,l=(n("21a1"),n("2877")),d=Object(l["a"])(u,i,c,!1,null,"5e8cb82f",null),f=d.exports,p=n("2f62"),h={data:function(){return{contest_tasks:null,errors:{}}},components:{TaskView:f},created:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.fetchTasks();case 2:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),watch:{$route:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.fetchTasks();case 2:case"end":return e.stop()}}),e)})))()}},methods:{fetchTasks:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(){var e,n,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=this.$route.params.id,t.prev=1,t.next=4,this.$http.get("/contests/".concat(e,"/tasks/"));case 4:n=t.sent,s=n.data,this.contest_tasks=s,t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](1),this.errors=this.$parse(t.t0.response.data);case 12:case"end":return t.stop()}}),t,this,[[1,9]])})));function e(){return t.apply(this,arguments)}return e}()},computed:Object(p["c"])("contests",["contest"])},m=h,v=Object(l["a"])(m,s,r,!1,null,null,null);e["default"]=v.exports},"33fd":function(t,e,n){"use strict";var s=n("612d"),r=n.n(s);r.a},3410:function(t,e,n){var s=n("23e7"),r=n("d039"),a=n("7b0b"),i=n("e163"),c=n("e177"),o=r((function(){i(1)}));s({target:"Object",stat:!0,forced:o,sham:!c},{getPrototypeOf:function(t){return i(a(t))}})},"466d":function(t,e,n){"use strict";var s=n("d784"),r=n("825a"),a=n("50c4"),i=n("1d80"),c=n("8aa5"),o=n("14c3");s("match",1,(function(t,e,n){return[function(e){var n=i(this),s=void 0==e?void 0:e[t];return void 0!==s?s.call(e,n):new RegExp(e)[t](String(n))},function(t){var s=n(e,t,this);if(s.done)return s.value;var i=r(t),u=String(this);if(!i.global)return o(i,u);var l=i.unicode;i.lastIndex=0;var d,f=[],p=0;while(null!==(d=o(i,u))){var h=String(d[0]);f[p]=h,""===h&&(i.lastIndex=c(u,a(i.lastIndex),l)),p++}return 0===p?null:f}]}))},"4a70":function(t,e,n){"use strict";n.r(e);var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("master-layout",[n("contest-form",{attrs:{text:"Create contest",initialTasks:[],errors:t.errors},on:{submit:t.createContest}})],1)},r=[],a=(n("d81d"),n("96cf"),n("1da1")),i=n("4c2e"),c={components:{ContestForm:i["a"]},data:function(){return{errors:{}}},methods:{createContest:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e){var n,s,r,a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.contest,s=e.tasks,r=null,t.prev=2,t.next=5,this.$http.post("/contests/",n.dumpForAPI());case 5:a=t.sent,r=a.data,t.next=13;break;case 9:return t.prev=9,t.t0=t["catch"](2),this.errors=this.$parse(t.t0.response.data),t.abrupt("return");case 13:return i=s.map((function(t){return{task:t.id,contest:r.id,cost:t.cost,min_cost:t.minCost,decay_value:t.decay,main_tag:t.mainTag.id}})),t.prev=14,t.next=17,this.$http.post("/contest_task_relationship/",i);case 17:this.$router.push({name:"contest_tasks",params:{id:r.id}}),t.next=23;break;case 20:t.prev=20,t.t1=t["catch"](14),this.$router.push({name:"contest_edit",params:{id:r.id}});case 23:case"end":return t.stop()}}),t,this,[[2,9],[14,20]])})));function e(e){return t.apply(this,arguments)}return e}()}},o=c,u=n("2877"),l=Object(u["a"])(o,s,r,!1,null,null,null);e["default"]=l.exports},"4ae1":function(t,e,n){var s=n("23e7"),r=n("d066"),a=n("1c0b"),i=n("825a"),c=n("861d"),o=n("7c73"),u=n("0538"),l=n("d039"),d=r("Reflect","construct"),f=l((function(){function t(){}return!(d((function(){}),[],t)instanceof t)})),p=!l((function(){d((function(){}))})),h=f||p;s({target:"Reflect",stat:!0,forced:h,sham:h},{construct:function(t,e){a(t),i(e);var n=arguments.length<3?t:a(arguments[2]);if(p&&!f)return d(t,e,n);if(t==n){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var s=[null];return s.push.apply(s,e),new(u.apply(t,s))}var r=n.prototype,l=o(c(r)?r:Object.prototype),h=Function.apply.call(t,l,e);return c(h)?h:l}})},"4c2e":function(t,e,n){"use strict";var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("card",[n("f-header",{attrs:{header:"",text:t.text}}),n("form",{staticClass:"mt-2",on:{submit:function(e){return e.preventDefault(),t.$emit("submit",{contest:t.contest,tasks:t.tasks})}}},[n("div",{staticClass:"ff"},[n("f-input",{staticClass:"mt-1-5",attrs:{type:"text",name:"name",errors:t.errors.name,placeholder:"Name"},model:{value:t.contest.name,callback:function(e){t.$set(t.contest,"name",e)},expression:"contest.name"}})],1),n("div",{staticClass:"ff"},[n("editor",{attrs:{errors:t.errors.description},model:{value:t.contest.description,callback:function(e){t.$set(t.contest,"description",e)},expression:"contest.description"}})],1),n("hr",{staticClass:"mt-2"}),n("div",{staticClass:"ff"},[n("f-checkbox",{attrs:{name:"dynamic_scoring",label:"Dynamic scoring",errors:t.errors.dynamic_scoring},model:{value:t.contest.dynamic_scoring,callback:function(e){t.$set(t.contest,"dynamic_scoring",e)},expression:"contest.dynamic_scoring"}})],1),n("div",{staticClass:"ff"},[n("f-task-list",{attrs:{dynamicScoring:t.contest.dynamic_scoring,errors:t.errors.tasks},model:{value:t.tasks,callback:function(e){t.tasks=e},expression:"tasks"}})],1),n("div",{staticClass:"ff"},[n("f-checkbox",{attrs:{name:"is_published",label:"Published",errors:t.errors.is_published},model:{value:t.contest.is_published,callback:function(e){t.$set(t.contest,"is_published",e)},expression:"contest.is_published"}})],1),n("div",{staticClass:"ff"},[n("f-checkbox",{attrs:{name:"is_registration_open",label:"Registration is opened",errors:t.errors.is_registration_open},model:{value:t.contest.is_registration_open,callback:function(e){t.$set(t.contest,"is_registration_open",e)},expression:"contest.is_registration_open"}})],1),n("div",{staticClass:"ff"},[n("f-checkbox",{attrs:{name:"is_rated",label:"Rated",errors:t.errors.is_rated},model:{value:t.contest.is_rated,callback:function(e){t.$set(t.contest,"is_rated",e)},expression:"contest.is_rated"}})],1),n("div",{staticClass:"ff"},[n("f-checkbox",{attrs:{name:"always_recalculate_rating",label:"Always recalculate rating",errors:t.errors.always_recalculate_rating},model:{value:t.contest.always_recalculate_rating,callback:function(e){t.$set(t.contest,"always_recalculate_rating",e)},expression:"contest.always_recalculate_rating"}})],1),n("div",{staticClass:"ff"},[n("f-checkbox",{attrs:{name:"publish_tasks_after_finished",label:"Publish tasks after finish",errors:t.errors.publish_tasks_after_finished},model:{value:t.contest.publish_tasks_after_finished,callback:function(e){t.$set(t.contest,"publish_tasks_after_finished",e)},expression:"contest.publish_tasks_after_finished"}})],1),n("div",{staticClass:"ff"},[n("f-checkbox",{attrs:{name:"public_scoreboard",label:"Public scoreboard",errors:t.errors.public_scoreboard},model:{value:t.contest.public_scoreboard,callback:function(e){t.$set(t.contest,"public_scoreboard",e)},expression:"contest.public_scoreboard"}})],1),n("div",{staticClass:"ff"},[n("f-checkbox",{attrs:{name:"is_virtual",label:"Virtual",errors:t.errors.is_virtual},model:{value:t.contest.is_virtual,callback:function(e){t.$set(t.contest,"is_virtual",e)},expression:"contest.is_virtual"}})],1),t.contest.is_virtual?n("div",{staticClass:"ff"},[n("f-input",{staticClass:"mt-1-5",attrs:{type:"text",name:"virtual_duration",errors:t.errors.virtual_duration,placeholder:"Virtual duration ([DD] [HH:[MM:]]ss[.uuuuuu])"},model:{value:t.contest.virtual_duration,callback:function(e){t.$set(t.contest,"virtual_duration",e)},expression:"contest.virtual_duration"}})],1):t._e(),n("div",{staticClass:"ff"},[n("f-checkbox",{attrs:{name:"randomize_tasks",label:"Randomize task set",errors:t.errors.randomize_tasks},model:{value:t.contest.randomize_tasks,callback:function(e){t.$set(t.contest,"randomize_tasks",e)},expression:"contest.randomize_tasks"}})],1),t.contest.randomize_tasks?n("div",{staticClass:"ff"},[n("f-input",{staticClass:"mt-1-5",attrs:{type:"text",name:"randomize_tasks_count",errors:t.errors.randomize_tasks_count,placeholder:"Number of tasks to add"},model:{value:t.contest.randomize_tasks_count,callback:function(e){t.$set(t.contest,"randomize_tasks_count",e)},expression:"contest.randomize_tasks_count"}})],1):t._e(),n("div",{staticClass:"ff"},[n("f-datetime",{attrs:{label:"Start time",errors:t.errors.start_time},model:{value:t.contest.start_time,callback:function(e){t.$set(t.contest,"start_time",e)},expression:"contest.start_time"}})],1),n("div",{staticClass:"ff"},[n("f-datetime",{attrs:{label:"End time",errors:t.errors.end_time},model:{value:t.contest.end_time,callback:function(e){t.$set(t.contest,"end_time",e)},expression:"contest.end_time"}})],1),n("div",{staticClass:"ff"},[n("f-detail",{attrs:{errors:t.errors.detail}})],1),n("div",{staticClass:"ff"},[n("input",{staticClass:"btn",attrs:{type:"submit",value:"Submit"}})])])],1)},r=[],a=n("ceb0"),i=n("b05e"),c=n("478a"),o=n("32d8"),u=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"task-buttons mb-2"},[n("button",{staticClass:"btn green fb-0 fg-1",attrs:{type:"button"},on:{click:function(e){return t.add(0)}}},[t._v(" add ")]),n("div",{staticClass:"fb-0 fg-2"}),n("button",{staticClass:"btn disabled fb-0 fg-1",attrs:{type:"button",disabled:""},on:{click:function(e){return t.remove(0)}}},[t._v(" remove ")])]),n("hr",{staticClass:"mb-2"}),t._l(t.value,(function(e,s){return n("div",{key:e.idx},[n("task-list-item",{attrs:{dynamicCost:t.dynamicScoring},model:{value:t.value[s],callback:function(e){t.$set(t.value,s,e)},expression:"value[index]"}}),n("div",{staticClass:"task-buttons mb-2"},[n("button",{staticClass:"btn green fb-0 fg-1",attrs:{type:"button"},on:{click:function(e){return t.add(s+1)}}},[t._v(" add ")]),n("div",{staticClass:"fb-0 fg-2"}),n("button",{staticClass:"btn red fb-0 fg-1",attrs:{type:"button"},on:{click:function(e){return t.remove(s)}}},[t._v(" remove ")])]),n("hr",{staticClass:"mb-2"})],1)})),t.invalid?n("div",t._l(t.errors,(function(e,s){return n("div",{key:s,staticClass:"error"},[t._v(" "+t._s(s)+": "+t._s(e)+" ")])})),0):t._e()],2)},l=[],d=(n("fb6a"),n("a434"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"task"},[n("div",{staticClass:"row"},[n("div",{staticClass:"field"},[n("f-input",{staticClass:"mr-1",attrs:{type:"text",name:"id",value:t.value.id,placeholder:"Id"},on:{input:t.searchTask}})],1),n("div",{staticClass:"field"},[n("f-input",{staticClass:"mr-1",attrs:{type:"text",name:"name",value:t.value.name,placeholder:"Name",disabled:""}})],1),t.dynamicCost?t._e():n("div",{staticClass:"field"},[n("div",[n("f-input",{staticClass:"mr-1",attrs:{type:"text",name:"cost",value:t.value.cost,placeholder:"Cost",disabled:t.disableFields},on:{input:t.changeCost}})],1)]),n("div",{staticClass:"field"},[n("f-select",{attrs:{value:t.value.mainTag.name,options:t.tagNames},on:{input:t.changeMainTag}})],1)]),t.dynamicCost?n("div",{staticClass:"row mt-2"},[n("div",{staticClass:"field"},[n("f-input",{staticClass:"mr-1",attrs:{type:"text",name:"cost",placeholder:"Max cost",value:t.value.cost,disabled:t.disableFields},on:{input:t.changeCost}})],1),n("div",{staticClass:"field"},[n("f-input",{staticClass:"mr-1",attrs:{type:"text",name:"min_cost",placeholder:"Min cost",value:t.value.minCost,disabled:t.disableFields},on:{input:t.changeMinCost}})],1),n("div",{staticClass:"field"},[n("f-input",{attrs:{type:"text",name:"decay",placeholder:"Decay",value:t.value.decay,disabled:t.disableFields},on:{input:t.changeDecay}})],1)]):t._e()]),n("div",{staticClass:"ff mb-1"},[n("f-detail",{attrs:{errors:t.errors["detail"]}})],1)])}),f=[],p=(n("4de4"),n("d81d"),n("b0c0"),n("d3b7"),n("25f0"),n("5530")),h=(n("96cf"),n("1da1")),m=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"group"},[n("v-select",{attrs:{options:t.options,value:t.value},on:{input:function(e){return t.$emit("input",e)}}}),t.invalid?n("div",t._l(t.errors,(function(e){return n("div",{key:e,staticClass:"error"},[t._v(" "+t._s(e)+" ")])})),0):t._e()],1)},v=[],_={props:{value:String,options:Array,errors:Array},computed:{invalid:function(){return this.$types.isArray(this.errors)&&this.errors.length>0}}},g=_,b=(n("07a9"),n("2877")),k=Object(b["a"])(g,m,v,!1,null,"7941069e",null),y=k.exports,x={props:{value:Object,dynamicCost:Boolean},data:function(){return{errors:{}}},methods:{searchTask:function(){var t=Object(h["a"])(regeneratorRuntime.mark((function t(e){var n,s,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=Object(p["a"])({},this.value),n.id=e,t.prev=2,t.next=5,this.$http.get("/tasks/".concat(e,"/"));case 5:s=t.sent,r=s.data,n.name=r.name,n.cost=r.cost.toString(),n.minCost="0",n.decay="1",n.tags=r.tags_details,n.mainTag=r.tags_details[0],this.errors={},t.next=25;break;case 16:t.prev=16,t.t0=t["catch"](2),this.errors=this.$parse(t.t0.response.data),n.name=null,n.cost=null,n.minCost=null,n.decay=null,n.tags=[],n.mainTag={name:null,id:null};case 25:this.$emit("input",n);case 26:case"end":return t.stop()}}),t,this,[[2,16]])})));function e(e){return t.apply(this,arguments)}return e}(),changeCost:function(t){this.$emit("input",Object(p["a"])({},this.value,{cost:t}))},changeMinCost:function(t){this.$emit("input",Object(p["a"])({},this.value,{minCost:t}))},changeDecay:function(t){this.$emit("input",Object(p["a"])({},this.value,{decay:t}))},changeMainTag:function(t){var e=this.value.tags.filter((function(e){var n=e.name;return n===t})),n={name:null,id:null};e.length>0&&(n=e[0]),this.$emit("input",Object(p["a"])({},this.value,{mainTag:n}))}},computed:{tagNames:function(){return this.value.tags.map((function(t){var e=t.name;return e}))},disableFields:function(){return this.$types.isNull(this.value.name)}},components:{FInput:i["a"],FSelect:y}},w=x,C=(n("2466"),Object(b["a"])(w,d,f,!1,null,"3e347068",null)),$=C.exports,O={props:{value:Array,errors:Object,dynamicScoring:Boolean},components:{TaskListItem:$},computed:{invalid:function(){return this.errors}},methods:{add:function(t){var e=this.value.slice();e.splice(t,0,{id:null,name:null,cost:null,tags:[],mainTag:{name:null,id:null},idx:this._.uniqueId("task")}),this.$emit("input",e)},remove:function(t){var e=this.value.slice();e.splice(t,1),this.$emit("input",e)}}},j=O,R=(n("680f"),Object(b["a"])(j,u,l,!1,null,"79f5b1b7",null)),S=R.exports,E=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"group"},[n("div",{staticClass:"mb-0-5"},[t._v(t._s(t.label))]),n("datetime",{attrs:{value:t.value},on:{input:function(e){return t.$emit("input",e)}}}),t.invalid?n("div",t._l(t.errors,(function(e){return n("div",{key:e,staticClass:"error"},[t._v(" "+t._s(e)+" ")])})),0):t._e()],1)},z=[],T={props:{value:String,label:String,errors:Array},computed:{invalid:function(){return this.$types.isArray(this.errors)&&this.errors.length>0}}},I=T,D=(n("d4d6"),Object(b["a"])(I,E,z,!1,null,"08447004",null)),N=D.exports,F=n("cd34"),P={props:{text:String,initialContest:Object,initialTasks:Array,errors:Object},data:function(){var t;return{contest:null!==(t=this.initialContest)&&void 0!==t?t:new F["a"],tasks:this.initialTasks}},components:{Editor:a["a"],FInput:i["a"],FHeader:c["a"],FCheckbox:o["a"],FTaskList:S,FDatetime:N}},M=P,U=Object(b["a"])(M,s,r,!1,null,null,null);e["a"]=U.exports},"4ec9":function(t,e,n){"use strict";var s=n("6d61"),r=n("6566");t.exports=s("Map",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),r)},5319:function(t,e,n){"use strict";var s=n("d784"),r=n("825a"),a=n("7b0b"),i=n("50c4"),c=n("a691"),o=n("1d80"),u=n("8aa5"),l=n("14c3"),d=Math.max,f=Math.min,p=Math.floor,h=/\$([$&'`]|\d\d?|<[^>]*>)/g,m=/\$([$&'`]|\d\d?)/g,v=function(t){return void 0===t?t:String(t)};s("replace",2,(function(t,e,n,s){var _=s.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,g=s.REPLACE_KEEPS_$0,b=_?"$":"$0";return[function(n,s){var r=o(this),a=void 0==n?void 0:n[t];return void 0!==a?a.call(n,r,s):e.call(String(r),n,s)},function(t,s){if(!_&&g||"string"===typeof s&&-1===s.indexOf(b)){var a=n(e,t,this,s);if(a.done)return a.value}var o=r(t),p=String(this),h="function"===typeof s;h||(s=String(s));var m=o.global;if(m){var y=o.unicode;o.lastIndex=0}var x=[];while(1){var w=l(o,p);if(null===w)break;if(x.push(w),!m)break;var C=String(w[0]);""===C&&(o.lastIndex=u(p,i(o.lastIndex),y))}for(var $="",O=0,j=0;j<x.length;j++){w=x[j];for(var R=String(w[0]),S=d(f(c(w.index),p.length),0),E=[],z=1;z<w.length;z++)E.push(v(w[z]));var T=w.groups;if(h){var I=[R].concat(E,S,p);void 0!==T&&I.push(T);var D=String(s.apply(void 0,I))}else D=k(R,p,S,E,T,s);S>=O&&($+=p.slice(O,S)+D,O=S+R.length)}return $+p.slice(O)}];function k(t,n,s,r,i,c){var o=s+t.length,u=r.length,l=m;return void 0!==i&&(i=a(i),l=h),e.call(c,l,(function(e,a){var c;switch(a.charAt(0)){case"$":return"$";case"&":return t;case"`":return n.slice(0,s);case"'":return n.slice(o);case"<":c=i[a.slice(1,-1)];break;default:var l=+a;if(0===l)return e;if(l>u){var d=p(l/10);return 0===d?e:d<=u?void 0===r[d-1]?a.charAt(1):r[d-1]+a.charAt(1):e}c=r[l-1]}return void 0===c?"":c}))}}))},"57c8":function(t,e,n){},"59ba":function(t,e,n){},"5a34":function(t,e,n){var s=n("44e7");t.exports=function(t){if(s(t))throw TypeError("The method doesn't accept regular expressions");return t}},"612d":function(t,e,n){},"62b8":function(t,e,n){"use strict";var s=n("1190"),r=n.n(s);r.a},6566:function(t,e,n){"use strict";var s=n("9bf2").f,r=n("7c73"),a=n("e2cc"),i=n("0366"),c=n("19aa"),o=n("2266"),u=n("7dd0"),l=n("2626"),d=n("83ab"),f=n("f183").fastKey,p=n("69f3"),h=p.set,m=p.getterFor;t.exports={getConstructor:function(t,e,n,u){var l=t((function(t,s){c(t,l,e),h(t,{type:e,index:r(null),first:void 0,last:void 0,size:0}),d||(t.size=0),void 0!=s&&o(s,t[u],t,n)})),p=m(e),v=function(t,e,n){var s,r,a=p(t),i=_(t,e);return i?i.value=n:(a.last=i={index:r=f(e,!0),key:e,value:n,previous:s=a.last,next:void 0,removed:!1},a.first||(a.first=i),s&&(s.next=i),d?a.size++:t.size++,"F"!==r&&(a.index[r]=i)),t},_=function(t,e){var n,s=p(t),r=f(e);if("F"!==r)return s.index[r];for(n=s.first;n;n=n.next)if(n.key==e)return n};return a(l.prototype,{clear:function(){var t=this,e=p(t),n=e.index,s=e.first;while(s)s.removed=!0,s.previous&&(s.previous=s.previous.next=void 0),delete n[s.index],s=s.next;e.first=e.last=void 0,d?e.size=0:t.size=0},delete:function(t){var e=this,n=p(e),s=_(e,t);if(s){var r=s.next,a=s.previous;delete n.index[s.index],s.removed=!0,a&&(a.next=r),r&&(r.previous=a),n.first==s&&(n.first=r),n.last==s&&(n.last=a),d?n.size--:e.size--}return!!s},forEach:function(t){var e,n=p(this),s=i(t,arguments.length>1?arguments[1]:void 0,3);while(e=e?e.next:n.first){s(e.value,e.key,this);while(e&&e.removed)e=e.previous}},has:function(t){return!!_(this,t)}}),a(l.prototype,n?{get:function(t){var e=_(this,t);return e&&e.value},set:function(t,e){return v(this,0===t?0:t,e)}}:{add:function(t){return v(this,t=0===t?0:t,t)}}),d&&s(l.prototype,"size",{get:function(){return p(this).size}}),l},setStrong:function(t,e,n){var s=e+" Iterator",r=m(e),a=m(s);u(t,e,(function(t,e){h(this,{type:s,target:t,state:r(t),kind:e,last:void 0})}),(function(){var t=a(this),e=t.kind,n=t.last;while(n&&n.removed)n=n.previous;return t.target&&(t.last=n=n?n.next:t.state.first)?"keys"==e?{value:n.key,done:!1}:"values"==e?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(t.target=void 0,{value:void 0,done:!0})}),n?"entries":"values",!n,!0),l(e)}}},"680f":function(t,e,n){"use strict";var s=n("e111"),r=n.n(s);r.a},"6c3c":function(t,e,n){},"6d61":function(t,e,n){"use strict";var s=n("23e7"),r=n("da84"),a=n("94ca"),i=n("6eeb"),c=n("f183"),o=n("2266"),u=n("19aa"),l=n("861d"),d=n("d039"),f=n("1c7e"),p=n("d44e"),h=n("7156");t.exports=function(t,e,n){var m=-1!==t.indexOf("Map"),v=-1!==t.indexOf("Weak"),_=m?"set":"add",g=r[t],b=g&&g.prototype,k=g,y={},x=function(t){var e=b[t];i(b,t,"add"==t?function(t){return e.call(this,0===t?0:t),this}:"delete"==t?function(t){return!(v&&!l(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return v&&!l(t)?void 0:e.call(this,0===t?0:t)}:"has"==t?function(t){return!(v&&!l(t))&&e.call(this,0===t?0:t)}:function(t,n){return e.call(this,0===t?0:t,n),this})};if(a(t,"function"!=typeof g||!(v||b.forEach&&!d((function(){(new g).entries().next()})))))k=n.getConstructor(e,t,m,_),c.REQUIRED=!0;else if(a(t,!0)){var w=new k,C=w[_](v?{}:-0,1)!=w,$=d((function(){w.has(1)})),O=f((function(t){new g(t)})),j=!v&&d((function(){var t=new g,e=5;while(e--)t[_](e,e);return!t.has(-0)}));O||(k=e((function(e,n){u(e,k,t);var s=h(new g,e,k);return void 0!=n&&o(n,s[_],s,m),s})),k.prototype=b,b.constructor=k),($||j)&&(x("delete"),x("has"),m&&x("get")),(j||C)&&x(_),v&&b.clear&&delete b.clear}return y[t]=k,s({global:!0,forced:k!=g},y),p(k,t),v||n.setStrong(k,t,m),k}},7581:function(t,e,n){},"80cd":function(t,e,n){"use strict";n.r(e);var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("task",{attrs:{task:t.task,errors:t.serrors,submitFlag:t.submit,solved:t.solved}}),n("f-detail",{attrs:{errors:t.errors["detail"]}})],1)},r=[],a=(n("99af"),n("96cf"),n("1da1")),i=n("2c00"),c=n("2f62"),o={components:{Task:i["a"]},created:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.fetchTask();case 2:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),data:function(){return{task:null,errors:{},serrors:{},solved:{}}},watch:{$route:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.fetchTask();case 2:case"end":return e.stop()}}),e)})))()}},methods:{fetchTask:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(){var e,n,s,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=this.$route.params,n=e.id,s=e.task_id,t.prev=1,t.next=4,this.$http.get("/contests/".concat(n,"/tasks/").concat(s,"/"));case 4:r=t.sent,this.task=r.data,this.solved={number:this.task.solved_count,link:this.contest.can_view_scoreboard?{name:"contest_task_solved",params:{id:n,task_id:s}}:null},t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](1),this.errors=this.$parse(t.t0.response.data);case 12:case"end":return t.stop()}}),t,this,[[1,9]])})));function e(){return t.apply(this,arguments)}return e}(),submit:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e){var n,s,r,a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=this.$route.params,s=n.id,r=n.task_id,t.prev=1,t.next=4,this.$http.post("/contests/".concat(s,"/tasks/").concat(r,"/submit/"),{flag:e});case 4:a=t.sent,i=a.data,this.$toasted.success("Valid flag!"),this.serrors={},i.upsolving?(this.$set(this.task,"is_solved_on_upsolving",!0),this.$toasted.info("Contest is finished. Points will be added to upsolving.")):this.$set(this.task,"is_solved_by_user",!0),t.next=15;break;case 11:t.prev=11,t.t0=t["catch"](1),this.serrors=this.$parse(t.t0.response.data),!this.$types.isUndefined(this.serrors["flag"])&&this.serrors["flag"].length>0&&"Invalid flag."===this.serrors["flag"][0]&&this.$toasted.error("Invalid flag!");case 15:case"end":return t.stop()}}),t,this,[[1,11]])})));function e(e){return t.apply(this,arguments)}return e}()},computed:Object(c["c"])("contests",["contest"])},u=o,l=n("2877"),d=Object(l["a"])(u,s,r,!1,null,null,null);e["default"]=d.exports},"80e0":function(t,e,n){var s=n("746f");s("replace")},"8a4a":function(t,e,n){"use strict";var s=n("b062"),r=n.n(s);r.a},"8aa5":function(t,e,n){"use strict";var s=n("6547").charAt;t.exports=function(t,e,n){return e+(n?s(t,e).length:1)}},"9a56":function(t,e,n){"use strict";n.r(e);var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.$types.isNull(t.contest)?t._e():n("div",[!t.$types.isNull(t.contest)&&t.contest.can_edit_contest?n("div",{staticClass:"p-r"},[n("div",{staticClass:"a-tr"},[n("router-link",{staticClass:"btn nlnk",attrs:{to:{name:"contest_edit",params:{id:t.contest.id}}}},[t._v(" Edit contest ")])],1)]):t._e(),n("div",{staticClass:"header"},[t._v(" "+t._s(t.contest.name)+" ")]),n("div",{staticClass:"mt-1-5"},[n("span",[t._v("By ")]),n("user",{attrs:{rating:t.contest.author_rating,username:t.contest.author_username}})],1),n("div",{staticClass:"hr mt-1"}),n("div",{staticClass:"content mt-1"},[n("div",{staticClass:"markdown ml-1 p-1"},[n("markdown",{attrs:{content:t.contest.description}})],1)])])},r=[],a=n("e6e0"),i=n("2f62"),c={components:{Markdown:a["a"]},computed:Object(i["c"])("contests",["contest"])},o=c,u=(n("cb95"),n("2877")),l=Object(u["a"])(o,s,r,!1,null,"30a1b76b",null);e["default"]=l.exports},a1a5:function(t,e,n){"use strict";n.r(e);var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("full-layout",[n("tabs",{attrs:{tabs:[{name:"Info",to:{name:"contest_info",params:{id:t.contestID}}},{name:"Tasks",to:{name:"contest_tasks",params:{id:t.contestID}}},{name:"Scoreboard",to:{name:"contest_scoreboard",params:{id:t.contestID}}}]}},[n("scoreboard",{attrs:{data:t.data,page:t.currentPage,pagesize:t.pagesize}}),n("f-detail",{attrs:{errors:t.errors["detail"]}}),n("pagination",{attrs:{count:t.count,pagesize:t.pagesize}})],1)],1)},r=[],a=(n("96cf"),n("1da1")),i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.$types.isNull(t.data)?t._e():n("div",{staticClass:"scoreboard-wrap",style:t.wrapStyles},[n("div",{staticClass:"scoreboard",style:t.grid},[t._m(0),t._m(1),t._m(2),t._l(t.data.main_data,(function(e,s){return n("div",{key:-s-1,staticClass:"task-name-wrap hide-on-width",class:t.data.main_data.length>t.threshold?"r":"bl"},[n("div",{staticClass:"ta-c task-name",class:t.data.main_data.length>t.threshold?"r":"p-0-5"},[t._v(" "+t._s(e.task_name)+" ")])])})),t._l(t.teamTasks,(function(e,s){return n("div",{key:s,staticClass:"bt ta-c",class:["index"===e.type?"":"bl","+"===e.text?"solved":"","solved"===e.type?"hide-on-width":""]},["index"===e.type?[n("div",{staticClass:"p-0-5"},[t._v(" "+t._s(e.index)+" ")])]:t._e(),"solved"===e.type?[n("div",{staticClass:"p-0-5"},[t._v(" "+t._s(e.text)+" ")])]:"teamName"===e.type?[n("team",{staticClass:"p-0-5 team-name",attrs:{id:e.team.id,name:e.team.name,rating:e.team.rating}})]:"teamScore"===e.type?[n("div",{staticClass:"p-0-5 "},[t._v(" "+t._s(e.score)+" ")])]:t._e()],2)}))],2)])},c=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"hide-on-width"},[n("div",{staticClass:"p-0-5"})])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"hide-on-width"},[n("div",{staticClass:"p-0-5"})])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"hide-on-width"},[n("div",{staticClass:"p-0-5"})])}],o=(n("b0c0"),n("a9e3"),n("d3b7"),n("ddb0"),n("3835")),u=n("b85c"),l={props:{data:Object,page:String,pagesize:Number},data:function(){return{threshold:5}},computed:{wrapStyles:function(){if(this.data.main_data.length<=this.threshold)return{};var t,e=0,n=0,s=Object(u["a"])(this.data.main_data.entries());try{for(s.s();!(t=s.n()).done;){var r=Object(o["a"])(t.value,2),a=r[0],i=r[1];e=Math.max(e,i.task_name.length),n=Math.max(n,i.task_name.length-3*(this.data.main_data.length-a-1))}}catch(c){s.e(c)}finally{s.f()}return{"padding-top":"".concat(e/1.337/Math.sqrt(2),"em"),"padding-right":"".concat(n/Math.sqrt(2),"em"),"font-size":"0.7em"}},solves:function(){var t,e={},n=Object(u["a"])(this.data.main_data.entries());try{for(n.s();!(t=n.n()).done;){var s,r=Object(o["a"])(t.value,2),a=r[0],i=r[1],c=Object(u["a"])(i.solved_participants);try{for(c.s();!(s=c.n()).done;){var l=s.value;e[[a,l]]=!0}}catch(d){c.e(d)}finally{c.f()}}}catch(d){n.e(d)}finally{n.f()}return e},teamTasks:function(){var t,e=[],n=Object(u["a"])(this.data.participants.results.entries());try{for(n.s();!(t=n.n()).done;){var s=Object(o["a"])(t.value,2),r=s[0],a=s[1];e.push({type:"index",index:1+r+(this.$types.isUndefined(this.page)?0:parseInt(this.page,10)-1)*this.pagesize}),e.push({type:"teamName",team:{id:a.id,name:a.name,rating:a.rating}}),e.push({type:"teamScore",score:a.cost_sum});for(var i=0;i<this.data.main_data.length;i+=1)e.push({type:"solved",text:!0===this.solves[[i,a.id]]?"+":""})}}catch(c){n.e(c)}finally{n.f()}return e},grid:function(){return this.data.main_data.length<=this.threshold?{"grid-template-columns":"auto 1fr 1fr repeat(".concat(this.data.main_data.length,", 1fr)")}:{"grid-template-columns":"auto auto auto repeat(".concat(this.data.main_data.length,", 1fr)")}}}},d=l,f=(n("c581"),n("2877")),p=Object(f["a"])(d,i,c,!1,null,"4f8571fa",null),h=p.exports,m=n("b50c"),v=n("1799"),_={components:{Scoreboard:h,Tabs:m["a"],Pagination:v["a"]},data:function(){return{data:null,errors:{},count:null,pagesize:30}},watch:{$route:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.fetchScoreboard();case 2:case"end":return e.stop()}}),e)})))()}},methods:{fetchScoreboard:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(){var e,n,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e={page:this.currentPage,page_size:this.pagesize},t.prev=1,t.next=4,this.$http.get("/contests/".concat(this.contestID,"/scoreboard/"),{params:e});case 4:n=t.sent,s=n.data,this.data=s,this.count=s.participants.count,t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](1),this.errors=this.$parse(t.t0.response.data);case 13:case"end":return t.stop()}}),t,this,[[1,10]])})));function e(){return t.apply(this,arguments)}return e}()},created:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.fetchScoreboard();case 2:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),computed:{contestID:function(){return this.$route.params.id},currentPage:function(){return this.$route.query.page}}},g=_,b=Object(f["a"])(g,s,r,!1,null,null,null);e["default"]=b.exports},ab13:function(t,e,n){var s=n("b622"),r=s("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[r]=!1,"/./"[t](e)}catch(s){}}return!1}},ac43:function(t,e,n){"use strict";n.r(e);var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("master-layout",[n("card",[!t.$types.isNull(t.user)&&t.user.can_create_contests?n("div",{staticClass:"p-r"},[n("div",{staticClass:"a-tr"},[n("router-link",{staticClass:"btn nlnk",attrs:{to:{name:"contest_create"}}},[t._v(" Create contest ")])],1)]):t._e(),!t.$types.isNull(t.running)&&t.running.length>0||!t.$types.isNull(t.upcoming)&&t.upcoming.length>0||!t.$types.isNull(t.finished)&&t.finished.length>0?t._e():n("f-header",{attrs:{text:"Contests"}}),!t.$types.isNull(t.running)&&t.running.length>0?n("f-header",{attrs:{text:"Running contests"}}):t._e(),!t.$types.isNull(t.running)&&t.running.length>0?n("div",{staticClass:"mt-1"},[n("f-table",{attrs:{fields:[{name:"#",pos:"c",grow:1},{name:"Name",pos:"l",grow:6},{name:"Ends in",pos:"c",grow:3,comp:t.TimerComp,key:"end_time",nowrap:!0},{name:"",pos:"c",key:"is_registered",comp:t.OpenOrRegisterComp,grow:2}],data:t.running}})],1):t._e(),!t.$types.isNull(t.upcoming)&&t.upcoming.length>0?n("f-header",{class:!t.$types.isNull(t.running)&&t.running.length>0?"mt-1":"",attrs:{text:"Upcoming contests"}}):t._e(),!t.$types.isNull(t.upcoming)&&t.upcoming.length>0?n("div",{staticClass:"mt-1"},[n("f-table",{attrs:{fields:[{name:"#",pos:"c",grow:1},{name:"Name",pos:"l",grow:6},{name:"Starts in",pos:"c",grow:3,comp:t.TimerComp,key:"start_time",nowrap:!0},{name:"",pos:"c",key:"is_registered",comp:t.RegisterComp,grow:2,aux:{unregister:t.unregister}}],data:t.upcoming}})],1):t._e(),!t.$types.isNull(t.finished)&&t.finished.length>0?n("f-header",{class:!t.$types.isNull(t.running)&&t.running.length>0||!t.$types.isNull(t.upcoming)&&t.upcoming.length>0?"mt-1":"",attrs:{text:"Finished contests"}}):t._e(),!t.$types.isNull(t.finished)&&t.finished.length>0?n("div",{staticClass:"mt-1"},[n("f-table",{attrs:{fields:[{name:"#",pos:"c",grow:1},{name:"Name",pos:"l",grow:9},{name:"",pos:"c",comp:t.OpenComp,grow:2}],data:t.finished}})],1):t._e(),n("f-detail",{attrs:{errors:t.errors["detail"]}}),n("pagination",{attrs:{count:t.count,pagesize:t.pagesize}})],1)],1)},r=[],a=(n("99af"),n("d81d"),n("5530")),i=(n("96cf"),n("1da1")),c=n("478a"),o=n("4dc7"),u=n("1799"),l=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("countdown",{attrs:{time:new Date(t.row[t.fieldData])-new Date},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",{staticClass:"countdown"},[t._v(t._s(t.$time(e.time)))])]}}])})},d=[],f={props:{fieldData:String,row:Object}},p=f,h=n("2877"),m=Object(h["a"])(p,l,d,!1,null,null,null),v=m.exports,_=function(){var t=this,e=t.$createElement,n=t._self._c||e;return!t.$types.isNull(t.user)&&t.user.is_admin||t.row[t.fieldData]?n("router-link",{staticClass:"link nlnk",attrs:{to:{name:"contest_info",params:{id:t.row.id}}}},[t._v(" Open ")]):t.row.is_registration_open?n("router-link",{staticClass:"link nlnk register",attrs:{to:{name:"contest_register",params:{id:t.row.id}}}},[t._v(" Register ")]):n("div",[t._v("Closed")])},g=[],b=n("2f62"),k={props:{fieldData:String,row:Object},computed:Object(b["c"])(["user"])},y=k,x=(n("24d4"),Object(h["a"])(y,_,g,!1,null,"6b8c06c3",null)),w=x.exports,C=function(){var t=this,e=t.$createElement,n=t._self._c||e;return!t.$types.isNull(t.user)&&t.user.is_admin?n("router-link",{staticClass:"link nlnk",attrs:{to:{name:"contest_info",params:{id:t.row.id}}}},[t._v(" Open ")]):!t.$types.isNull(t.user)&&t.row[t.fieldData]?n("div",{staticClass:"unregister",on:{click:function(e){return t.aux.unregister(t.row.id)}}},[t._v(" Unregister ")]):t.row.is_registration_open?n("router-link",{staticClass:"link nlnk register",attrs:{to:{name:"contest_register",params:{id:t.row.id}}}},[t._v(" Register ")]):n("div",[t._v("Closed")])},$=[],O={props:{fieldData:String,row:Object,aux:Object},computed:Object(b["c"])(["user"])},j=O,R=(n("62b8"),Object(h["a"])(j,C,$,!1,null,"144d049a",null)),S=R.exports,E=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("router-link",{staticClass:"link nlnk",attrs:{to:{name:"contest_info",params:{id:t.row.id}}}},[t._v(" Open ")])},z=[],T={props:{fieldData:String,row:Object}},I=T,D=Object(h["a"])(I,E,z,!1,null,null,null),N=D.exports,F={components:{FHeader:c["a"],FTable:o["a"],Pagination:u["a"]},data:function(){return{upcoming:null,running:null,finished:null,TimerComp:v,OpenOrRegisterComp:w,RegisterComp:S,OpenComp:N,errors:{},count:null,pagesize:20}},methods:{unregister:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e){var n,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.$http.get("/contest_participant_relationship/?contest_id=".concat(e));case 3:return n=t.sent,s=n.data[0].id,t.next=7,this.$http.delete("/contest_participant_relationship/".concat(s,"/"));case 7:return t.next=9,this.fetchContests();case 9:this.$toasted.success("Unregistered!"),t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](0),this.$toasted.error(this.$parse(t.t0.response.data).detail);case 15:case"end":return t.stop()}}),t,this,[[0,12]])})));function e(e){return t.apply(this,arguments)}return e}(),fetchContests:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e,n,s,r=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=this.$route.query.page,n=void 0===e?1:e,t.prev=1,t.next=4,this.$http.get("/contests/?page=".concat(n,"&page_size=").concat(this.pagesize));case 4:s=t.sent,this.upcoming=s.data.upcoming.map((function(t,e){return Object(a["a"])({"#":1+e},t)})),this.running=s.data.running.map((function(t,e){return Object(a["a"])({"#":1+e},t)})),this.finished=s.data.finished.results.map((function(t,e){return Object(a["a"])({"#":1+e+(n-1)*r.pagesize},t)})),this.count=s.data.finished.count,t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](1),this.errors=this.$parse(t.t0.response.data);case 14:case"end":return t.stop()}}),t,this,[[1,11]])})));function e(){return t.apply(this,arguments)}return e}()},created:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.fetchContests();case 2:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),watch:{$route:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.fetchContests();case 2:case"end":return e.stop()}}),e)})))()}},computed:Object(b["c"])(["user"])},P=F,M=Object(h["a"])(P,s,r,!1,null,null,null);e["default"]=M.exports},acac:function(t,e,n){"use strict";var s=n("e2cc"),r=n("f183").getWeakData,a=n("825a"),i=n("861d"),c=n("19aa"),o=n("2266"),u=n("b727"),l=n("5135"),d=n("69f3"),f=d.set,p=d.getterFor,h=u.find,m=u.findIndex,v=0,_=function(t){return t.frozen||(t.frozen=new g)},g=function(){this.entries=[]},b=function(t,e){return h(t.entries,(function(t){return t[0]===e}))};g.prototype={get:function(t){var e=b(this,t);if(e)return e[1]},has:function(t){return!!b(this,t)},set:function(t,e){var n=b(this,t);n?n[1]=e:this.entries.push([t,e])},delete:function(t){var e=m(this.entries,(function(e){return e[0]===t}));return~e&&this.entries.splice(e,1),!!~e}},t.exports={getConstructor:function(t,e,n,u){var d=t((function(t,s){c(t,d,e),f(t,{type:e,id:v++,frozen:void 0}),void 0!=s&&o(s,t[u],t,n)})),h=p(e),m=function(t,e,n){var s=h(t),i=r(a(e),!0);return!0===i?_(s).set(e,n):i[s.id]=n,t};return s(d.prototype,{delete:function(t){var e=h(this);if(!i(t))return!1;var n=r(t);return!0===n?_(e)["delete"](t):n&&l(n,e.id)&&delete n[e.id]},has:function(t){var e=h(this);if(!i(t))return!1;var n=r(t);return!0===n?_(e).has(t):n&&l(n,e.id)}}),s(d.prototype,n?{get:function(t){var e=h(this);if(i(t)){var n=r(t);return!0===n?_(e).get(t):n?n[e.id]:void 0}},set:function(t,e){return m(this,t,e)}}:{add:function(t){return m(this,t,!0)}}),d}}},b062:function(t,e,n){},b50c:function(t,e,n){"use strict";var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"tabs pr-1 pl-1"},[n("div",{staticClass:"tabs-tabs"},t._l(t.tabs,(function(e){return n("router-link",{key:e.name,staticClass:"tab nlnk link td-n",class:t.$route.name===e.to.name?"active":"",attrs:{to:e.to}},[t._v(" "+t._s(e.name)+" ")])})),1),n("div",{staticClass:"tabs-content"},[t._t("default")],2)])},r=[],a={props:{tabs:Array}},i=a,c=(n("8a4a"),n("2877")),o=Object(c["a"])(i,s,r,!1,null,"f4105dd4",null);e["a"]=o.exports},bb2f:function(t,e,n){var s=n("d039");t.exports=!s((function(){return Object.isExtensible(Object.preventExtensions({}))}))},c48a:function(t,e,n){"use strict";var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("team",{attrs:{id:t.row.id,name:t.row.name,rating:t.row.rating}})},r=[],a={props:{fieldData:String,row:Object}},i=a,c=n("2877"),o=Object(c["a"])(i,s,r,!1,null,null,null);e["a"]=o.exports},c581:function(t,e,n){"use strict";var s=n("7581"),r=n.n(s);r.a},c975:function(t,e,n){"use strict";var s=n("23e7"),r=n("4d64").indexOf,a=n("a640"),i=n("ae40"),c=[].indexOf,o=!!c&&1/[1].indexOf(1,-0)<0,u=a("indexOf"),l=i("indexOf",{ACCESSORS:!0,1:0});s({target:"Array",proto:!0,forced:o||!u||!l},{indexOf:function(t){return o?c.apply(this,arguments)||0:r(this,t,arguments.length>1?arguments[1]:void 0)}})},cb95:function(t,e,n){"use strict";var s=n("fccc"),r=n.n(s);r.a},cd34:function(t,e,n){"use strict";n("a4d3"),n("e01a"),n("b0c0");var s=n("5530");function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var n=0;n<e.length;n++){var s=e[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}function i(t,e,n){return e&&a(t.prototype,e),n&&a(t,n),t}var c=n("c1df"),o=n.n(c),u={id:-1,name:"",description:"",is_published:!1,is_registration_open:!0,is_rated:!0,is_virtual:!1,virtual_duration:"",publish_tasks_after_finished:!0,public_scoreboard:!0,dynamic_scoring:!1,start_time:null,end_time:null,randomize_tasks:!1,randomize_tasks_count:null},l=function(){function t(e){r(this,t);var n=Object(s["a"])({},u,{},e),a=n.id,i=n.name,c=n.description,o=n.is_published,l=n.is_registration_open,d=n.is_rated,f=n.is_virtual,p=n.virtual_duration,h=n.publish_tasks_after_finished,m=n.public_scoreboard,v=n.dynamic_scoring,_=n.start_time,g=n.end_time,b=n.randomize_tasks,k=n.randomize_tasks_count;this.id=a,this.name=i,this.description=c,this.is_published=o,this.is_registration_open=l,this.is_rated=d,this.is_virtual=f,this.virtual_duration=p,this.publish_tasks_after_finished=h,this.public_scoreboard=m,this.dynamic_scoring=v,this.start_time=_,this.end_time=g,this.randomize_tasks=b,this.randomize_tasks_count=k}return i(t,[{key:"dumpForAPI",value:function(){var t,e=Object.assign({},this);return e.start_time=o()(e.start_time,"YYYY-MM-DD hh:mm a").toISOString(),e.end_time=o()(e.end_time,"YYYY-MM-DD hh:mm a").toISOString(),e.randomize_tasks_count=null!==(t=e.randomize_tasks_count)&&void 0!==t?t:0,e}}]),t}();e["a"]=l},d1e2:function(t,e,n){"use strict";n.r(e);var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("master-layout-stacked",{scopedSlots:t._u([{key:"sidebar",fn:function(){return[n("div",[t.$types.isNull(t.contest)?t._e():n("card",{staticClass:"pl-2"},[n("div",{staticClass:"header"},[t._v(" "+t._s(t.contest.name)+" ")]),n("div",{staticClass:"author mt-1 mb-2"},[t._v(" By "),n("user",{attrs:{username:t.contest.author_username,rating:t.contest.author_rating}})],1),"RUNNING"==t.contestState.status?n("div",[t._v(" Contest is "),n("span",{staticClass:"running"},[t._v("running "+t._s(t.contest.is_virtual?"virtually":""))]),n("div",{staticClass:"mt-1"},[n("countdown",{attrs:{time:t.contestState.time},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",{staticClass:"countdown-more"},[t._v("Time Remaining：")]),n("span",{staticClass:"countdown"},[t._v(t._s(t.$time(e.time)))])]}}],null,!1,919526291)})],1)]):"FINISHED"==t.contestState.status?n("div",[t._v(" Contest is "),n("span",{staticClass:"finished"},[t._v("finished")]),t._v(" "+t._s(t.contest.is_virtual&&!t.contest.is_finished?"for your team":"")+" ")]):"UPCOMING"==t.contestState.status?n("div",[t._v(" Contest is "),n("span",{staticClass:"upcoming"},[t._v("upcoming")]),n("div",{staticClass:"mt-1"},[n("countdown",{attrs:{time:t.contestState.time},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",{staticClass:"countdown-more"},[t._v("Starts in ")]),n("span",{staticClass:"countdown"},[t._v(t._s(t.$time(e.time)))])]}}],null,!1,2007723668)})],1)]):t._e(),n("div",{staticClass:"mt-1"},[t._v(" Scoring is "),n("span",{staticClass:"scoring"},[t._v(t._s(t.scoring))])]),n("f-detail",{attrs:{errors:t.errors["detail"]}})],1)],1)]},proxy:!0}])},[n("tabs",{attrs:{tabs:t.tabs}},[n("router-view")],1)],1)},r=[],a=(n("ac1f"),n("466d"),n("a4d3"),n("e01a"),n("80e0"),n("e260"),n("13d5"),n("b64b"),n("d3b7"),n("4d63"),n("25f0"),n("3ca3"),n("5319"),n("10d1"),n("ddb0"),n("53ca"));n("4ec9"),n("3410"),n("131a");function i(t){return i=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},i(t)}function c(t,e){return c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},c(t,e)}n("c975");function o(t){return-1!==Function.toString.call(t).indexOf("[native code]")}n("4ae1");function u(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function l(t,e,n){return l=u()?Reflect.construct:function(t,e,n){var s=[null];s.push.apply(s,e);var r=Function.bind.apply(t,s),a=new r;return n&&c(a,n.prototype),a},l.apply(null,arguments)}function d(t){var e="function"===typeof Map?new Map:void 0;return d=function(t){if(null===t||!o(t))return t;if("function"!==typeof t)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return l(t,arguments,i(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),c(n,t)},d(t)}function f(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}function p(t,e){p=function(t,e){return new i(t,void 0,e)};var n=d(RegExp),s=RegExp.prototype,r=new WeakMap;function i(t,e,s){var a=n.call(this,t,e);return r.set(a,s||r.get(t)),a}function c(t,e){var n=r.get(e);return Object.keys(n).reduce((function(e,s){return e[s]=t[n[s]],e}),Object.create(null))}return f(i,n),i.prototype.exec=function(t){var e=s.exec.call(this,t);return e&&(e.groups=c(e,this)),e},i.prototype[Symbol.replace]=function(t,e){if("string"===typeof e){var n=r.get(this);return s[Symbol.replace].call(this,t,e.replace(/\$<([^>]+)>/g,(function(t,e){return"$"+n[e]})))}if("function"===typeof e){var i=this;return s[Symbol.replace].call(this,t,(function(){var t=[];return t.push.apply(t,arguments),"object"!==Object(a["a"])(t[t.length-1])&&t.push(c(t,i)),e.apply(this,t)}))}return s[Symbol.replace].call(this,t,e)},p.apply(this,arguments)}var h=n("5530"),m=(n("96cf"),n("1da1")),v=n("b50c"),_=n("c1df"),g=n.n(_),b=n("2f62"),k={components:{Tabs:v["a"]},created:function(){var t=Object(m["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.fetchContest(this.contestID);case 2:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),watch:{$route:function(){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.fetchContest(t.contestID);case 2:case"end":return e.stop()}}),e)})))()}},methods:Object(h["a"])({fetchContest:function(){var t=Object(m["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})));function e(){return t.apply(this,arguments)}return e}()},Object(b["b"])("contests",["fetchContest"])),computed:Object(h["a"])({},Object(b["c"])("contests",["contest","errors"]),{contestID:function(){return this.$route.params.id},tabs:function(){var t=[{name:"Info",to:{name:"contest_info",params:{id:this.contestID}}},{name:"Tasks",to:{name:"contest_tasks",params:{id:this.contestID}}}];return this.contest&&this.contest.can_view_scoreboard&&t.push({name:"Scoreboard",to:{name:"contest_scoreboard",params:{id:this.contestID}}}),t},scoring:function(){return this.contest.dynamic_scoring?"dynamic":"static"},timeUntilStart:function(){return g()(this.contest.start_time)-g()()},timeUntilEnd:function(){return g()(this.contest.end_time)-g()()},virtualDuration:function(){var t=p(/(?:([0-9]*) )?([0-9]+):([0-9]+):([0-9]+)/,{days:1,hours:2,minutes:3,seconds:4}),e=this.contest.virtual_duration.match(t),n=e.groups,s=n.days,r=n.hours,a=n.minutes,i=n.seconds,c=0;return c+=parseInt(i,10),c+=60*parseInt(a,10),c+=3600*parseInt(r,10),s&&(c+=86400*parseInt(s)),c},timeUntilVirtualEnd:function(){var t=g()(this.contest.opened_at),e=t.clone().add(this.virtualDuration,"seconds"),n=g.a.min(g()(this.contest.end_time),e);return n-g()()},contestState:function(){var t=this.contest;return t.is_virtual?this.contest.is_running&&Boolean(this.contest.opened_at)&&this.timeUntilVirtualEnd>0?{status:"RUNNING",time:this.timeUntilVirtualEnd}:this.contest.is_finished||Boolean(this.contest.opened_at)&&this.timeUntilVirtualEnd<=0?{status:"FINISHED"}:{status:"UPCOMING",time:this.timeUntilStart}:t.is_running?{status:"RUNNING",time:this.timeUntilEnd}:t.is_finished?{status:"FINISHED"}:{status:"UPCOMING",time:this.timeUntilStart}}})},y=k,x=(n("fe97"),n("2877")),w=Object(x["a"])(y,s,r,!1,null,"474bfb09",null);e["default"]=w.exports},d4d6:function(t,e,n){"use strict";var s=n("eb20"),r=n.n(s);r.a},d58f:function(t,e,n){var s=n("1c0b"),r=n("7b0b"),a=n("44ad"),i=n("50c4"),c=function(t){return function(e,n,c,o){s(n);var u=r(e),l=a(u),d=i(u.length),f=t?d-1:0,p=t?-1:1;if(c<2)while(1){if(f in l){o=l[f],f+=p;break}if(f+=p,t?f<0:d<=f)throw TypeError("Reduce of empty array with no initial value")}for(;t?f>=0:d>f;f+=p)f in l&&(o=n(o,l[f],f,u));return o}};t.exports={left:c(!1),right:c(!0)}},e0fd:function(t,e,n){},e111:function(t,e,n){},e45c:function(t,e,n){"use strict";n.r(e);var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("master-layout",[n("card",[t.$types.isNull(t.contest)?t._e():n("div",[n("f-header",{attrs:{text:t.contest.name+" registration"}}),t.$types.isNull(t.teams)?t._e():n("form",{staticClass:"mt-2",on:{submit:function(e){return e.preventDefault(),t.registerForContest(e)}}},[n("div",{staticClass:"ff"},[0===t.teams.length?n("div",{staticClass:"ta-c"},[n("router-link",{attrs:{to:{name:"team_create"}}},[t._v("Create team")])],1):t._e(),n("div",{staticClass:"participants"},[n("div",{staticClass:"team-list"},t._l(t.teams,(function(e){return n("card",{key:e.id,class:["team",e.id===t.team.id?"chosen":""],nativeOn:{click:function(n){return t.changeTeam(e)}}},[t._v(" "+t._s(e.name)+" ")])})),1),n("div",{staticClass:"participant-list"},[t.$types.isNull(t.users)?t._e():n("div",t._l(t.users,(function(e){return n("card",{key:e.id,class:["participant",t.participants[e.id]?"chosen":""],nativeOn:{click:function(n){return t.changeParticipant(e.id)}}},[t._v(" "+t._s(e.username)+" ")])})),1)])])]),n("f-detail",{attrs:{errors:t.rerrors["detail"]}}),n("pagination",{attrs:{count:t.count,pagesize:t.pagesize}}),n("div",{staticClass:"ff"},[n("input",{staticClass:"btn",attrs:{type:"submit",value:"Register"}})])],1)],1),n("f-detail",{attrs:{errors:t.cerrors["detail"]}})],1)],1)},r=[],a=(n("99af"),n("caad"),n("2532"),n("b85c")),i=n("5530"),c=(n("96cf"),n("1da1")),o=n("478a"),u=n("1799"),l=n("2f62"),d={components:{FHeader:o["a"],Pagination:u["a"]},data:function(){return{teams:null,team:{id:null,name:null},rerrors:{},users:null,participants:{},count:null,pagesize:50}},created:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.fetchContest(this.contestID);case 2:return t.next=4,this.fetchTeams();case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),watch:{$route:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.fetchContest(t.contestID);case 2:return e.next=4,t.fetchTeams();case 4:case"end":return e.stop()}}),e)})))()}},methods:Object(i["a"])({},Object(l["b"])("contests",["fetchContest"]),{fetchTeams:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(){var e,n,s,r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e=this.$route.query.page,n=void 0===e?1:e,s=this.user.username,r=void 0===s?null:s,this.$types.isNull(r)){t.next=15;break}return t.prev=3,t.next=6,this.$http.get("/users/".concat(r,"/teams/?page=").concat(n,"&page_size=").concat(this.pagesize));case 6:a=t.sent,this.teams=a.data.results,this.teams.length>0&&this.changeTeam(this.teams[0]),this.count=a.data.count,t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](3),this.rerrors=this.$parse(t.t0.response.data);case 15:case"end":return t.stop()}}),t,this,[[3,12]])})));function e(){return t.apply(this,arguments)}return e}(),registerForContest:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(){var e,n,s,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e=[],n=Object(a["a"])(this.users);try{for(n.s();!(s=n.n()).done;)r=s.value,this.participants[r.id]&&e.push(r.id)}catch(i){n.e(i)}finally{n.f()}return t.prev=3,t.next=6,this.$http.post("/contest_participant_relationship/",{contest:this.contest.id,participant:this.team.id,registered_users:e});case 6:this.$toasted.success("Success!"),this.contest.is_running&&e.includes(this.user.id)?this.$router.push({name:"contest_info",params:{id:this.contest.id}}).catch((function(){})):this.$router.push({name:"contest_list"}).catch((function(){})),t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](3),this.rerrors=this.$parse(t.t0.response.data);case 13:case"end":return t.stop()}}),t,this,[[3,10]])})));function e(){return t.apply(this,arguments)}return e}(),changeTeam:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.team=e,this.participants={},t.prev=2,t.next=5,this.$http.get("/teams/".concat(e.id,"/"));case 5:n=t.sent,this.users=n.data.participants_details,t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](2),this.rerrors=this.$parse(t.t0.response.data);case 12:case"end":return t.stop()}}),t,this,[[2,9]])})));function e(e){return t.apply(this,arguments)}return e}(),changeParticipant:function(t){this.participants[t]?this.$set(this.participants,t,!1):this.$set(this.participants,t,!0)}}),computed:Object(i["a"])({},Object(l["c"])(["user"]),{},Object(l["c"])("contests",{contest:"contest",cerrors:"errors"}),{contestID:function(){return this.$route.params.id}})},f=d,p=(n("33fd"),n("2877")),h=Object(p["a"])(f,s,r,!1,null,"5c27aac5",null);e["default"]=h.exports},eb20:function(t,e,n){},f183:function(t,e,n){var s=n("d012"),r=n("861d"),a=n("5135"),i=n("9bf2").f,c=n("90e3"),o=n("bb2f"),u=c("meta"),l=0,d=Object.isExtensible||function(){return!0},f=function(t){i(t,u,{value:{objectID:"O"+ ++l,weakData:{}}})},p=function(t,e){if(!r(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!a(t,u)){if(!d(t))return"F";if(!e)return"E";f(t)}return t[u].objectID},h=function(t,e){if(!a(t,u)){if(!d(t))return!0;if(!e)return!1;f(t)}return t[u].weakData},m=function(t){return o&&v.REQUIRED&&d(t)&&!a(t,u)&&f(t),t},v=t.exports={REQUIRED:!1,fastKey:p,getWeakData:h,onFreeze:m};s[u]=!0},fccc:function(t,e,n){},fe97:function(t,e,n){"use strict";var s=n("1dab"),r=n.n(s);r.a}}]);
//# sourceMappingURL=group-contests.ef808e9c.js.map